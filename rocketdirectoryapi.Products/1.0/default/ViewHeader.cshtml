@inherits RocketDirectoryAPI.Components.RocketDirectoryAPITokens<Simplisity.SimplisityRazor>
@using DNNrocketAPI;
@using Simplisity;
@using RocketPortal.Components;
@using RocketDirectoryAPI.Components;
@using DNNrocketAPI.Components;

@{
    var portalCatData = (PortalCatalogLimpet)Model.List.First();
    var portalData = new PortalLimpet(portalCatData.PortalId);
    var sessionParams = (SessionParams)Model.SessionParamsData;
    var appTheme = (AppThemeLimpet)Model.GetDataObject("apptheme");
    var remoteModule = (RemoteModule)Model.GetDataObject("remotemodule");
}

<script type="text/javascript" src="@(sessionParams.EngineURL)@DNNrocketUtils.AppendFileModifiedDate("/DesktopModules/DNNrocket/Simplisity/js/simplisity.js")"></script>
<script type="text/javascript" src="@(sessionParams.EngineURL)@DNNrocketUtils.AppendFileModifiedDate(appTheme.AppThemeVersionFolderRel + "/js/frontend.js")"></script>
<link rel="stylesheet" href="@(sessionParams.EngineURL)@DNNrocketUtils.AppendFileModifiedDate(appTheme.AppThemeVersionFolderRel + "/css/theme.css")">
<script type="text/javascript" src="@(sessionParams.EngineURL)@DNNrocketUtils.AppendFileModifiedDate("/DesktopModules/DNNrocket/js/jquery.validate.min.js")"></script>

@if (DNNrocketUtils.GetLanguageCode(sessionParams.CultureCode) != "en")
{
    <script type="text/javascript" src="@(sessionParams.EngineURL)@DNNrocketUtils.AppendFileModifiedDate("/DesktopModules/DNNrocket/js/localization/messages_" + DNNrocketUtils.GetCurrentLanguageCode() + ".js")"></script>
}

<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons&display=block">

<script>

    function popupImage(element) {
        document.getElementById("imgPopup").src = $(element).attr("popupsrc");
        document.getElementById("modalimgPopup").style.display = "block";
    }

    function firstLoadMove() {
        var toastedfirstload = sessionStorage.getItem("toastedfirstload");
        if (toastedfirstload !== 'false') {
            $('html, body').animate({
                scrollTop: $('.productlist').offset().top
            }, 500, function () {
            });
        }
        sessionStorage.setItem("toastedfirstload", "false");
    }

</script>
